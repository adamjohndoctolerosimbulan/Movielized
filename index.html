<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movielized - Your Movie Journey Starts Here</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="logo">Movielized</div>
        <ul class="nav-links">
            <li><a href="#" onclick="showPage('home')">HOME</a></li>
            <li><a href="#" onclick="showPage('films')">FILMS</a></li>
            <li><a href="#" onclick="showPage('about')">ABOUT</a></li>
            <li><a href="#" onclick="showPage('activity')" id="activity-nav" style="display: none;">ACTIVITY</a></li>
            <li><a href="#" onclick="showPage('watchlist')" id="watchlist-nav" style="display: none;">WATCHLIST</a></li>
            <li class="search-container">
                <input type="text" class="search-bar" placeholder="Search movies..." id="searchInput">
                <button type="button" class="search-btn" onclick="handleSearchButtonClick()" id="searchBtn">
                    üîç
                </button>
            </li>
            <li>
                <a href="#" class="auth-btn" onclick="showPage('auth')" id="authBtn">SIGN IN / UP</a>
                <div id="userDropdown" class="user-dropdown" style="display: none;">
                    <button onclick="toggleUserMenu()" class="user-menu-btn">
                        <span id="userGreeting"></span> ‚ñº
                    </button>
                    <div id="userMenu" class="user-menu">
                        <a href="#" onclick="showPage('profile')">Profile</a>
                        <a href="#" onclick="logout()">Logout</a>
                    </div>
                </div>
            </li>
        </ul>
    </nav>

    <!-- Main Content -->
    <main id="mainContent">
<!-- Home Page (Logged Out) -->
<div id="homePage" class="page">
    <section class="hero">
        <div class="hero-content">
            <h1>Your movie journey starts here.</h1>
            <p>Discover, rate, and share the films that matter to you.</p>
            <a href="#" class="cta-btn" onclick="showPage('auth')">JOIN FREE!</a>
        </div>
    </section>

    <section class="section">
        <h2>Trending Movies</h2>
        <div id="trendingMovies" class="movie-grid">
            <div class="loading">
                <div class="spinner"></div>
                <p>Loading trending movies...</p>
            </div>
        </div>
    </section>

    <section class="section">
        <h2>Join other movie lovers who are already tracking their films</h2>
        <div class="features">
            <div class="feature">
                <div class="feature-icon">üé¨</div>
                <h3>Track & Rate Movies</h3>
                <p>Keep a comprehensive record of every film you've watched</p>
            </div>
            <div class="feature">
                <div class="feature-icon">üìã</div>
                <h3>Create Watchlist</h3>
                <p>Never forget about that movie you wanted to watch</p>
            </div>
            <div class="feature">
                <div class="feature-icon">üë•</div>
                <h3>Follow Friends</h3>
                <p>Connect with fellow movie enthusiasts</p>
            </div>
        </div>
    </section>
</div>

        <!-- Home Page (Logged In) -->
        <div id="homePageLoggedIn" class="page" style="display: none;">
            <section class="section logged-in-section">
                <div class="welcome-header">
                    <h1 id="welcomeMessage">Welcome back!</h1>
                    <div id="userStats" class="user-stats">You've watched 0 films this year</div>
                </div>

                <div class="content-section">
                    <h2>Friends' Activity</h2>
                    <div id="friendsActivity" class="activity-feed">
                        <div class="loading">
                            <div class="spinner"></div>
                            <p>Loading friends' activity...</p>
                        </div>
                    </div>
                </div>

                <div class="content-section">
                    <h2>Popular Reviews of This Month</h2>
                    <div id="popularReviews" class="reviews-container">
                        <div class="loading">
                            <div class="spinner"></div>
                            <p>Loading popular reviews...</p>
                        </div>
                    </div>
                </div>

                <div class="content-section">
                    <h2>Recommendations</h2>
                    <div id="recommendations" class="movie-grid">
                        <div class="loading">
                            <div class="spinner"></div>
                            <p>Loading recommendations...</p>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Films Page -->
        <div id="filmsPage" class="page" style="display: none;">
            <section class="section main-section">
                <h2 id="filmsPageTitle">Browse Movies</h2>
                <div id="allMovies" class="movie-grid">
                    <div class="loading">
                        <div class="spinner"></div>
                        <p>Loading movies...</p>
                    </div>
                </div>
            </section>
        </div>

        <!-- About Page -->
        <div id="aboutPage" class="page" style="display: none;">
            <section class="section main-section">
                <h2>About Movielized</h2>
                <div class="about-content">
                    <p class="about-subtitle">Your ultimate movie companion for discovering, tracking, and sharing your cinematic journey.</p>
                    
                    <div class="about-text">
                        <h3>What is Movielized?</h3>
                        <p>Movielized is a social movie platform where film enthusiasts come together to discover, rate, and discuss movies. Whether you're a casual viewer or a dedicated cinephile, Movielized helps you keep track of every film you've watched, create personalized watchlists, and connect with friends who share your passion for cinema.</p>
                        
                        <p>Inspired by the community-driven approach of platforms like Letterboxd, we've created a space where your movie opinions matter and where discovering your next favorite film is just a click away.</p>
                    </div>

                    <div class="features-grid">
                        <div class="feature-item">
                            <h4>üé¨ Track Your Movie Journey</h4>
                            <p>Keep a comprehensive record of every film you've watched, complete with ratings and personal reviews.</p>
                        </div>
                        <div class="feature-item">
                            <h4>üìã Create & Manage Watchlists</h4>
                            <p>Never forget about that movie you wanted to watch. Build custom lists and organize your future viewing.</p>
                        </div>
                        <div class="feature-item">
                            <h4>üë• Connect with Fellow Movie Lovers</h4>
                            <p>Follow friends, read their reviews, and discover new films through their recommendations.</p>
                        </div>
                        <div class="feature-item">
                            <h4>üîç Discover New Films</h4>
                            <p>Explore trending movies, browse by genre, and find hidden gems through our recommendation engine.</p>
                        </div>
                        <div class="feature-item">
                            <h4>‚≠ê Rate & Review</h4>
                            <p>Share your thoughts on films and help others decide what to watch next.</p>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Auth Page -->
        <div id="authPage" class="page" style="display: none;">
            <section class="section main-section">
                <div class="auth-container">
                    <div class="auth-form signin-form">
                        <h2>SIGN IN</h2>
                        <form id="loginForm">
                            <input type="text" placeholder="Username or E-mail" required>
                            <input type="password" placeholder="Password" required>
                            <button type="submit">LOG IN</button>
                        </form>
                    </div>
                    <div class="auth-form signup-form">
                        <h2>JOIN MOVIELIZED!</h2>
                        <form id="signupForm">
                            <input type="text" placeholder="Username" required>
                            <input type="email" placeholder="E-mail" required>
                            <input type="password" placeholder="Password" required>
                            <button type="submit">SIGN UP</button>
                        </form>
                    </div>
                </div>
            </section>
        </div>

        <!-- Watchlist Page -->
        <div id="watchlistPage" class="page" style="display: none;">
            <section class="section main-section">
                <h2 id="watchlistTitle">Your Watchlist</h2>
                <div id="watchlistMovies" class="movie-grid">
                    <div class="loading">
                        <div class="spinner"></div>
                        <p>Loading your watchlist...</p>
                    </div>
                </div>
            </section>
        </div>

        <!-- Profile Page -->
        <div id="profilePage" class="page" style="display: none;">
            <section class="profile-header">
                <div class="profile-info">
                    <div class="profile-avatar">
                        <img id="profileImage" src="" alt="Profile Picture">
                    </div>
                    <div class="profile-details">
                        <h1 id="profileUsername">User!</h1>
                        <p id="profilePronouns" style="color: #ff6b6b; margin-bottom: 0.5rem;"></p>
                        <p id="profileBio" style="color: #ccc; margin-bottom: 0.5rem;"></p>
                        <p id="profileJoinDate">Joined recently</p>
                        <button onclick="showPage('editProfile')" class="edit-profile-btn">EDIT PROFILE</button>
                    </div>
                    
                    <div id="profileStats" class="profile-stats">
                        <div class="stat"><div class="stat-number">0</div><div class="stat-label">FILMS</div></div>
                        <div class="stat"><div class="stat-number">0</div><div class="stat-label">THIS YEAR</div></div>
                        <div class="stat"><div class="stat-number">0</div><div class="stat-label">FRIENDS</div></div>
                    </div>
                </div>
            </section>
            <section class="section">
    <div class="content-section">
        <div class="friends-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
            <h2>FRIENDS</h2>
            <button onclick="searchAndAddFriend()" class="add-friend-btn" style="background: #ff6b6b; color: white; padding: 0.5rem 1rem; border: none; border-radius: 5px; cursor: pointer;">
                Add Friend
            </button>
        </div>
        
        <!-- Friend Requests Section -->
        <div id="friendRequests" style="margin-bottom: 2rem;">
        </div>
        
        <!-- Friends List -->
        <div id="friendsList" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 1rem;">
        </div>
    </div>

            <section class="section">
                <div class="content-section">
                    <div class="top-5-header">
                        <h2>MY TOP 5 FILMS</h2>
                        <button onclick="editTop5Films()" class="edit-top5-btn">Edit Top 5</button>
                    </div>
                    <div id="profileTop5" class="top-5-grid">
                        <div class="loading"><div class="spinner"></div></div>
                    </div>
                </div>

                <div class="content-section">
                    <h2>YOUR WATCHLIST</h2>
                    <div id="profileWatchlist" class="movie-grid">
                        <p>Your watchlist is empty.</p>
                    </div>
                </div>
            </section>
        </div>

        

        <!-- Edit Top 5 Modal -->
        <div id="editTop5Modal" class="modal" style="display: none;">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Edit Your Top 5 Films</h2>
                    <button onclick="closeEditTop5Modal()" class="close-btn">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="search-section">
                        <input type="text" id="top5SearchInput" placeholder="Search for movies to add..." class="modal-search">
                        <div id="top5SearchResults" class="search-results"></div>
                    </div>
                    <div class="current-top5">
                        <h3>Your Current Top 5:</h3>
                        <div id="editableTop5" class="editable-top5-grid">
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button onclick="saveTop5Films()" class="save-btn">Save Changes</button>
                        <button onclick="closeEditTop5Modal()" class="cancel-btn">Cancel</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Activity Page -->
        <div id="activityPage" class="page" style="display: none;">
            <section class="section main-section">
                <div class="activity-tabs">
<button onclick="switchActivityTab('friends')" id="friendsActivityTab" class="tab-btn active">FRIENDS' ACTIVITY</button>
<button onclick="switchActivityTab('your')" id="yourActivityTab" class="tab-btn">YOUR ACTIVITY</button>
                </div>

                <div id="activityFeed" class="activity-feed">
                    <div class="loading">
                        <div class="spinner"></div>
                        <p>Loading activity...</p>
                    </div>
                </div>
            </section>
        </div>

        <!-- Edit Profile Page -->
<div id="editProfilePage" class="page" style="display: none;">
    <section class="section main-section">
        <div class="edit-profile-container" style="max-width: 600px; margin: 0 auto;">
            <h2>Edit Profile</h2>
            
            <form id="editProfileForm" style="background: #2a2a2a; padding: 2rem; border-radius: 10px;">
                <!-- Profile Picture Section -->
                <div style="text-align: center; margin-bottom: 2rem;">
                    <div id="profilePicturePreview" style="width: 150px; height: 150px; background: #ff6b6b; border-radius: 50%; margin: 0 auto 1rem; display: flex; align-items: center; justify-content: center; font-size: 3rem; color: white; position: relative; overflow: hidden;">
                        <img id="profilePictureImg" src="" alt="" style="width: 100%; height: 100%; object-fit: cover; display: none;">
                        <span id="profileInitial">?</span>
                    </div>
                    <input type="file" id="profilePictureInput" accept="image/*" style="display: none;">
                    <button type="button" onclick="document.getElementById('profilePictureInput').click()" style="background: #ff6b6b; color: white; border: none; padding: 0.5rem 1rem; border-radius: 5px; cursor: pointer;">
                        Change Profile Picture
                    </button>
                </div>

                <!-- Username -->
                <div style="margin-bottom: 1.5rem;">
                    <label style="display: block; margin-bottom: 0.5rem; color: #ccc;">Username</label>
                    <input type="text" id="editUsername" placeholder="Username" required style="width: 100%; padding: 0.75rem; background: #333; border: none; border-radius: 5px; color: white;">
                </div>

                <!-- Email -->
                <div style="margin-bottom: 1.5rem;">
                    <label style="display: block; margin-bottom: 0.5rem; color: #ccc;">Email</label>
                    <input type="email" id="editEmail" placeholder="Email" required style="width: 100%; padding: 0.75rem; background: #333; border: none; border-radius: 5px; color: white;">
                </div>

                <!-- Pronouns -->
                <div style="margin-bottom: 1.5rem;">
                    <label style="display: block; margin-bottom: 0.5rem; color: #ccc;">Pronouns</label>
                    <select id="editPronouns" style="width: 100%; padding: 0.75rem; background: #333; border: none; border-radius: 5px; color: white;">
                        <option value="">Select pronouns</option>
                        <option value="he/him">he/him</option>
                        <option value="she/her">she/her</option>
                        <option value="they/them">they/them</option>
                        <option value="he/they">he/they</option>
                        <option value="she/they">she/they</option>
                        <option value="custom">Other (specify below)</option>
                    </select>
                    <input type="text" id="editCustomPronouns" placeholder="Enter custom pronouns" style="width: 100%; padding: 0.75rem; background: #333; border: none; border-radius: 5px; color: white; margin-top: 0.5rem; display: none;">
                </div>

                <!-- Bio -->
                <div style="margin-bottom: 1.5rem;">
                    <label style="display: block; margin-bottom: 0.5rem; color: #ccc;">Bio</label>
                    <textarea id="editBio" placeholder="Tell us about yourself..." style="width: 100%; padding: 0.75rem; background: #333; border: none; border-radius: 5px; color: white; resize: vertical; min-height: 100px;"></textarea>
                </div>

                <!-- Location -->
                <div style="margin-bottom: 1.5rem;">
                    <label style="display: block; margin-bottom: 0.5rem; color: #ccc;">Location</label>
                    <input type="text" id="editLocation" placeholder="City, Country" style="width: 100%; padding: 0.75rem; background: #333; border: none; border-radius: 5px; color: white;">
                </div>

                <!-- Password Section -->
                <div style="border-top: 1px solid #444; padding-top: 1.5rem; margin-top: 2rem;">
                    <h3 style="margin-bottom: 1rem; color: #ff6b6b;">Change Password</h3>
                    <p style="color: #888; font-size: 0.9rem; margin-bottom: 1rem;">Leave empty if you don't want to change your password</p>
                    
                    <div style="margin-bottom: 1rem;">
                        <label style="display: block; margin-bottom: 0.5rem; color: #ccc;">Current Password</label>
                        <input type="password" id="editCurrentPassword" placeholder="Enter current password" style="width: 100%; padding: 0.75rem; background: #333; border: none; border-radius: 5px; color: white;">
                    </div>
                    
                    <div style="margin-bottom: 1rem;">
                        <label style="display: block; margin-bottom: 0.5rem; color: #ccc;">New Password</label>
                        <input type="password" id="editNewPassword" placeholder="Enter new password" style="width: 100%; padding: 0.75rem; background: #333; border: none; border-radius: 5px; color: white;">
                    </div>
                    
                    <div style="margin-bottom: 1rem;">
                        <label style="display: block; margin-bottom: 0.5rem; color: #ccc;">Confirm New Password</label>
                        <input type="password" id="editConfirmPassword" placeholder="Confirm new password" style="width: 100%; padding: 0.75rem; background: #333; border: none; border-radius: 5px; color: white;">
                    </div>
                </div>

                <!-- Buttons -->
                <div style="display: flex; gap: 1rem; margin-top: 2rem;">
                    <button type="submit" style="flex: 1; padding: 1rem; background: #ff6b6b; color: white; border: none; border-radius: 5px; cursor: pointer; font-weight: bold;">
                        Save Changes
                    </button>
                    <button type="button" onclick="cancelEditProfile()" style="flex: 1; padding: 1rem; background: #666; color: white; border: none; border-radius: 5px; cursor: pointer;">
                        Cancel
                    </button>
                </div>
            </form>
        </div>
    </section>
</div>
<!-- Public Profile Page -->
<div id="publicProfilePage" class="page" style="display: none;">
    <section class="profile-header">
        <div class="profile-info">
            <div class="profile-avatar" id="publicProfileAvatar">üë§</div>
            <div class="profile-details">
                <h1 id="publicProfileUsername">User</h1>
                <p id="publicProfilePronouns" style="color: #ff6b6b; margin-bottom: 0.5rem;"></p>
                <p id="publicProfileBio" style="color: #ccc; margin-bottom: 0.5rem;"></p>
                <p id="publicProfileLocation" style="color: #888; margin-bottom: 0.5rem;"></p>
                <p id="publicProfileJoinDate">Joined recently</p>
                <button id="followUserBtn" onclick="toggleFollowUser()" class="edit-profile-btn" style="background: #4CAF50;">
                    Follow
                </button>
            </div>
            <div id="publicProfileStats" class="profile-stats">
                <div class="stat"><div class="stat-number">0</div><div class="stat-label">FILMS</div></div>
                <div class="stat"><div class="stat-number">0</div><div class="stat-label">THIS YEAR</div></div>
                <div class="stat"><div class="stat-number">0</div><div class="stat-label">FOLLOWING</div></div>
            </div>
        </div>
    </section>
    
    <section class="section">
        <div class="content-section">
            <h2>TOP 5 FILMS</h2>
            <div id="publicProfileTop5" class="top-5-grid">
                <div class="loading"><div class="spinner"></div></div>
            </div>
        </div>

        <div class="content-section">
            <h2>RECENT REVIEWS</h2>
            <div id="publicProfileReviews" class="reviews-container">
                <p>No reviews yet.</p>
            </div>
        </div>

        <div class="content-section">
            <h2>WATCHLIST PREVIEW</h2>
            <div id="publicProfileWatchlist" class="movie-grid">
                <p>Watchlist is private.</p>
            </div>
        </div>
    </section>
</div>
    </main>
<!-- Footer -->
<footer class="footer">
    <div class="footer-content">
        <div class="footer-main">
            <!-- Brand Section -->
            <div class="footer-brand">
                <div class="footer-logo">Movielized</div>
                <p class="footer-description">
                    Your ultimate movie companion for discovering, tracking, and sharing your cinematic journey. Join thousands of movie lovers who trust Movielized to enhance their film experience.
                </p>
            </div>

            <!-- Features Section -->
            <div class="footer-section">
                <h3>Features</h3>
                <ul class="footer-links">
                    <li><a href="#" onclick="showPage('films')">Movie Discovery</a></li>
                    <li><a href="#" onclick="showPage('watchlist')">Personal Watchlists</a></li>
                    <li><a href="#" onclick="showPage('activity')">Reviews & Ratings</a></li>
                    <li><a href="#" onclick="showPage('activity')">Friend Activity</a></li>
                    <li><a href="#" onclick="showPage('profile')">Top 5 Lists</a></li>
                    <li><a href="#" onclick="showPage('films')">Movie Recommendations</a></li>
                </ul>
            </div>

            <!-- Community Stats -->
            <div class="footer-section">
                <h3>Community Stats</h3>
                <div class="footer-stats">
                    <div class="stats-grid">
                        <div class="stat-item">
                            <span class="stat-number">12.5K</span>
                            <span class="stat-label">Users</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number">89K</span>
                            <span class="stat-label">Reviews</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number">156K</span>
                            <span class="stat-label">Movies</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number">2.3M</span>
                            <span class="stat-label">Ratings</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer Bottom -->
        <div class="footer-bottom">
            <div class="footer-copyright">
                ¬© 2024 Movielized. All rights reserved. | Made with ‚ù§Ô∏è for movie lovers
            </div>
        </div>
    </div>
</footer>
    <script src="script.js"></script>
    <script src="api.js"></script>
</body>
</html>